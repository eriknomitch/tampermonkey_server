#= require utility
#= require_self
#= require ubermonkey

# ------------------------------------------------
# UM->DEFINE -------------------------------------
# ------------------------------------------------
@UM =
  env: "<%= Rails.env %>"
  remote:
    suffix: "/assets"
  use:
    stylesheet: true
  restartOn:
    pushState: false
  state:
    bootstrapped: false
  script:
    config:{}

# ------------------------------------------------
# UM->SET-DYNAMIC --------------------------------
# ------------------------------------------------
[UM.domain, UM.remote.protocol] = switch UM.env
  when "development"
    ["development.ubermonkey-server.com:3000", "http"]
  when "production"
    ["ubermonkey-server.herokuapp.com", "https"]

$.extend UM.remote,
  urlNoProtocol: "//#{UM.domain}#{UM.remote.suffix}"

$.extend UM.remote,
  url: "#{UM.remote.protocol}:#{UM.remote.urlNoProtocol}"

